MDBoxLayout:
    orientation: 'vertical'
    padding: dp(0)
    spacing: dp(0)
    md_bg_color: 0.1059, 0.1098, 0.0980, 1

    MDGridLayout:
        spacing: dp(10)
        cols: 1
        adaptive_height: True

        # canvas:
        #     Color:
        #         rgba: 0.1059, 0.1098, 0.0980, 1
        #     Rectangle:
        #         pos: self.pos
        #         size: self.size

        MDFillRoundFlatIconButton:
            id: task_label
            markup: True
            text: " "
            md_bg_color: 0.1059, 0.1098, 0.0980, 1
            icon_color: 0.1059, 0.1098, 0.0980, 1
            text_color: 0.1059, 0.1098, 0.0980, 1

        MDFillRoundFlatIconButton:
            id: task_label
            icon: "image-filter-hdr"
            markup: True
            text: "[size=48][b]TrailView[/b][/size]"
            md_bg_color: 0.1059, 0.1098, 0.0980, 1
            icon_color: 0.7922, 0.8705, 0.7294, 1
            text_color: 0.7922, 0.8705, 0.7294, 1

        MDSeparator:

        MDStackLayout:
            adaptive_height: True
            spacing: dp(10)

            MDFillRoundFlatButton:
                text: "Length"
                md_bg_color: 0.2314, 0.2980, 0.2039, 1
                text_color: 0.7922, 0.8705, 0.7294, 1

            MDRoundFlatIconButton:
                id: length_button_1
                icon: "circle-outline"
                markup: True
                text: "Trails (3 mi)"
                text_color: 0.7922, 0.8705, 0.7294, 1
                icon_color: 0.7922, 0.8705, 0.7294, 1
                line_color: 0.7922, 0.8705, 0.7294, 1
                line_width: 1.2
                on_press: app.toggle_filter("length_button_1")
                on_release: app.toggle_button_pressed(self)

            MDRoundFlatIconButton:
                id: length_button_2
                icon: "circle-outline"
                markup: True
                text: "Trails (8 mi)"
                text_color: 0.7922, 0.8705, 0.7294, 1
                icon_color: 0.7922, 0.8705, 0.7294, 1
                line_color: 0.7922, 0.8705, 0.7294, 1
                line_width: 1.2
                on_press: app.toggle_filter("length_button_2")
                on_release: app.toggle_button_pressed(self)

            MDRoundFlatIconButton:
                id: length_button_3
                icon: "circle-outline"
                markup: True
                text: "Trails (8+ mi)"
                text_color: 0.7922, 0.8705, 0.7294, 1
                icon_color: 0.7922, 0.8705, 0.7294, 1
                line_color: 0.7922, 0.8705, 0.7294, 1
                line_width: 1.2
                on_press: app.toggle_filter("length_button_3")
                on_release: app.toggle_button_pressed(self)

        MDStackLayout:
            adaptive_height: True
            spacing: dp(10)

            MDFillRoundFlatButton:
                text: "Difficulty"
                md_bg_color: 0.2314, 0.2980, 0.2039, 1
                text_color: 0.7922, 0.8705, 0.7294, 1

            MDRoundFlatIconButton:
                id: easy_button
                icon: "circle-outline"
                markup: True
                text: "Easy"
                text_color: 0.7922, 0.8705, 0.7294, 1
                icon_color: 0.7922, 0.8705, 0.7294, 1
                line_color: 0.7922, 0.8705, 0.7294, 1
                line_width: 1.2
                on_press: app.toggle_filter("easy")
                on_release: app.toggle_button_pressed(self)

            MDRoundFlatIconButton:
                id: moderate_button
                icon: "circle-outline"
                markup: True
                text: "Moderate"
                text_color: 0.7922, 0.8705, 0.7294, 1
                icon_color: 0.7922, 0.8705, 0.7294, 1
                line_color: 0.7922, 0.8705, 0.7294, 1
                line_width: 1.2
                on_press: app.toggle_filter("moderate")
                on_release: app.toggle_button_pressed(self)

            MDRoundFlatIconButton:
                id: hard_button
                icon: "circle-outline"
                markup: True
                text: "Hard"
                text_color: 0.7922, 0.8705, 0.7294, 1
                icon_color: 0.7922, 0.8705, 0.7294, 1
                line_color: 0.7922, 0.8705, 0.7294, 1
                line_width: 1.2
                on_press: app.toggle_filter("hard")
                on_release: app.toggle_button_pressed(self)

        MDStackLayout:
            adaptive_height: True
            spacing: dp(10)

            MDFillRoundFlatButton:
                text: "Duration"
                md_bg_color: 0.2314, 0.2980, 0.2039, 1
                text_color: 0.7922, 0.8705, 0.7294, 1

            MDRoundFlatIconButton:
                id: duration_button_1
                icon: "circle-outline"
                markup: True
                text: "1 hour Trails"
                text_color: 0.7922, 0.8705, 0.7294, 1
                icon_color: 0.7922, 0.8705, 0.7294, 1
                line_color: 0.7922, 0.8705, 0.7294, 1
                line_width: 1.2
                on_press: app.toggle_filter("duration_button_1")
                on_release: app.toggle_button_pressed(self)

            MDRoundFlatIconButton:
                id: duration_button_2
                icon: "circle-outline"
                markup: True
                text: "3 hour Trails"
                text_color: 0.7922, 0.8705, 0.7294, 1
                icon_color: 0.7922, 0.8705, 0.7294, 1
                line_color: 0.7922, 0.8705, 0.7294, 1
                line_width: 1.2
                on_press: app.toggle_filter("duration_button_2")
                on_release: app.toggle_button_pressed(self)

            MDRoundFlatIconButton:
                id: duration_button_3
                icon: "circle-outline"
                markup: True
                text: "6 hour Trails"
                text_color: 0.7922, 0.8705, 0.7294, 1
                icon_color: 0.7922, 0.8705, 0.7294, 1
                line_color: 0.7922, 0.8705, 0.7294, 1
                line_width: 1.2
                on_press: app.toggle_filter("duration_button_3")
                on_release: app.toggle_button_pressed(self)

        MDStackLayout:
            adaptive_height: True
            spacing: dp(10)

            MDFillRoundFlatButton:
                text: "Others"
                md_bg_color: 0.2314, 0.2980, 0.2039, 1
                text_color: 0.7922, 0.8705, 0.7294, 1

            MDRoundFlatIconButton:
                id: kid_friendly_button
                icon: "circle-outline"
                markup: True
                text: "Kid Friendly"
                text_color: 0.7922, 0.8705, 0.7294, 1
                icon_color: 0.7922, 0.8705, 0.7294, 1
                line_color: 0.7922, 0.8705, 0.7294, 1
                line_width: 1.2
                on_press: app.toggle_filter("kid_friendly")
                on_release: app.toggle_button_pressed(self)

            MDRoundFlatIconButton:
                id: pet_friendly_button
                icon: "circle-outline"
                markup: True
                text: "Pet Friendly"
                text_color: 0.7922, 0.8705, 0.7294, 1
                icon_color: 0.7922, 0.8705, 0.7294, 1
                line_color: 0.7922, 0.8705, 0.7294, 1
                line_width: 1.2
                on_press: app.toggle_filter("pet_friendly")
                on_release: app.toggle_button_pressed(self)

            MDRoundFlatIconButton:
                id: saved_button
                icon: "circle-outline"
                markup: True
                text: "Saved"
                text_color: 0.7922, 0.8705, 0.7294, 1
                icon_color: 0.7922, 0.8705, 0.7294, 1
                line_color: 0.7922, 0.8705, 0.7294, 1
                line_width: 1.2
                on_press: app.toggle_filter("saved")
                on_release: app.toggle_button_pressed(self)

    ScrollView:

        MDList:
            id: container

    # MDFloatingActionButton:
    #     icon: 'plus-thick'
    #     on_release: app.show_trail_dialog()
    #     elevation_normal: 12
    #     pos_hint: {'x': .45 , 'y': .04}

<DialogContent>:
    orientation: "vertical"
    spacing: "10dp"
    size_hint: 1, None
    height: "500dp"

    # name
    GridLayout:
        rows: 1
        MDTextField:
            id: trail_text
            hint_text: "Name"
            pos_hint: {"center_y": .4}
            max_text_length: 50
            on_text_validate: (app.add_trail(trail_text, trail_location), app.close_dialog())

    # location
    GridLayout:
        rows: 1
        MDTextField:
            id: trail_location
            hint_text: "Location"
            pos_hint: {"center_y": .4}
            max_text_length: 50
            # on_text_validate: (app.add_trail(trail_text, trail_location, trail_latitude, trail_longitude, trail_length, trail_difficulty, isKidFriendly, isPetFriendly), app.close_dialog())
    # latitude
    GridLayout:
        rows: 1
        MDTextField:
            id: trail_latitude
            hint_text: "latitude"
            pos_hint: {"center_y": .4}
            max_text_length: 50
            # on_text_validate: (app.add_trail(trail_text, trail_location, trail_latitude, trail_longitude, trail_length, trail_difficulty, isKidFriendly, isPetFriendly), app.close_dialog())

    # longitude
    GridLayout:
        rows: 1
        MDTextField:
            id: trail_longitude
            hint_text: "longitude"
            pos_hint: {"center_y": .4}
            max_text_length: 50
            # on_text_validate: (app.add_trail(trail_text, trail_location, trail_latitude, trail_longitude, trail_length, trail_difficulty, isKidFriendly, isPetFriendly), app.close_dialog())

    # length
    GridLayout:
        rows: 1
        MDTextField:
            id: trail_length
            hint_text: "length"
            pos_hint: {"center_y": .4}
            max_text_length: 50
            # on_text_validate: (app.add_trail(trail_text, trail_location, trail_latitude, trail_longitude, trail_length, trail_difficulty, isKidFriendly, isPetFriendly), app.close_dialog())

    # difficulty
    GridLayout:
        rows: 1
        MDTextField:
            id: trail_difficulty
            hint_text: "difficulty"
            pos_hint: {"center_y": .4}
            max_text_length: 50
            # on_text_validate: (app.add_trail(trail_text, trail_location, trail_latitude, trail_longitude, trail_length, trail_difficulty, isKidFriendly, isPetFriendly), app.close_dialog())

    # isKidFriendly
    FloatLayout:
        MDSwitch:
            id: isKidFriendly
            pos_hint: {'center_x': .5, 'center_y': .5}
            # on_text_validate: (app.add_trail(trail_text, trail_location, trail_latitude, trail_longitude, trail_length, trail_difficulty, isKidFriendly, isPetFriendly), app.close_dialog())

    # isPetFriendly
    FloatLayout:
        MDSwitch:
            id: isPetFriendly
            pos_hint: {'center_x': .5, 'center_y': .5}
            # on_text_validate: (app.add_trail(trail_text, trail_location, trail_latitude, trail_longitude, trail_length, trail_difficulty, isKidFriendly, isPetFriendly), app.close_dialog())

    BoxLayout:
        orientation: 'horizontal'

        MDRaisedButton:
            text: "SAVE"
            # on_release: (app.add_trail(trail_text, trail_location), app.close_dialog())
            on_release: (app.add_trail(trail_text, trail_location), app.close_dialog())
            
        MDFlatButton:
            text: 'CANCEL'
            on_release: app.close_dialog()

<ListItem>:
    id: the_list_item
    markup: True
    bg_color: 1, 1, 1, 1
    # text_color: 1, 1, 1, 1
    # secondary_text_color: 1, 1, 1, 1

    # ImageLeftWidget:
    #     source: "image/default-image-icon.png"

    IconLeftWidget:
        id: icon_left_widget
        icon: 'image'
        on_release: app.switch_to_detail_view("test","test2")

    IconRightWidget:
        id: icon_right_widget
        icon: 'bookmark-outline'
        md_bg_color: 0.7922, 0.8705, 0.7294, 1
        on_press: root.toggle_saved()
        on_release: app.toggle_saved_button(self)